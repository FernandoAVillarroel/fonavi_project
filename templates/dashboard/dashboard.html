 <!-- dashboard.html - Template para Django -->
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Sistema de Liquidación del FONAVI{% endblock %}</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
</head>
<body>
    <!-- Header -->
    <header class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container-fluid">
            <div class="navbar-brand d-flex align-items-center">
                <div class="logo-icon me-2">
                    <i class="bi bi-calculator"></i>
                </div>
                <span class="logo-text">LiquidaSueldos</span>
            </div>
            
            <div class="navbar-nav ms-auto d-flex align-items-center">
                <span class="navbar-text me-3">
                    <i class="bi bi-person-circle me-1"></i>
                    {{ user.get_full_name|default:"Administrador" }}
                </span>
                <span class="navbar-text">
                    <i class="bi bi-calendar3 me-1"></i>
                    <span id="current-date"></span>
                </span>
                <a class="btn btn-outline-danger btn-sm" href="{% url 'logout' %}">
                  <i class="bi bi-box-arrow-right me-1"></i> Cerrar sesión
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container-fluid py-4">
        <!-- Welcome Section -->
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h1 class="display-4 fw-bold text-primary mb-2">Sistema de Liquidación de FONAVI</h1>
                <p class="lead text-muted">Gestiona eficientemente la liquidación de sueldos de tu organización</p>
            </div>
        </div>

        <!-- Period Selector -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card period-selector">
                    <div class="card-body d-flex justify-content-between align-items-center">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-calendar3 me-3 text-primary fs-4"></i>
                            <span class="fw-bold text-dark">Período de Liquidación:</span>
                        </div>
                        <div class="d-flex align-items-center gap-3">
                            <select class="form-select" id="mesSelector" style="width: auto;">
                                <option value="1">Enero</option>
                                <option value="2">Febrero</option>
                                <option value="3">Marzo</option>
                                <option value="4">Abril</option>
                                <option value="5">Mayo</option>
                                <option value="6">Junio</option>
                                <option value="7" selected>Julio</option>
                                <option value="8">Agosto</option>
                                <option value="9">Septiembre</option>
                                <option value="10">Octubre</option>
                                <option value="11">Noviembre</option>
                                <option value="12">Diciembre</option>
                            </select>
                            <select class="form-select" id="anioSelector" style="width: auto;">
                                <option value="2023">2023</option>
                                <option value="2024">2024</option>
                                <option value="2025" selected>2025</option>
                                <option value="2026">2026</option>
                            </select>
                            <span class="badge bg-primary fs-6 px-3 py-2">
                                <i class="bi bi-people me-1"></i>
                                247 Empleados
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Categories -->
        <div class="row mb-4">
            <div class="col-12">
                <h2 class="text-center mb-4 fw-bold">Acciones Principales</h2>
            </div>
        </div>

        <div class="row g-4 mb-5">
            <!-- Liquidación -->
            <div class="col-lg-6 col-xl-4">
                <div class="card action-category h-100">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">
                            <i class="bi bi-briefcase me-2"></i>
                            Liquidación
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="d-grid gap-2">
                            <button type="button" class="btn btn-outline-primary"            
                                <i class="bi bi-search me-2"></i>
                                Preliquidar Sueldos
                            </button>
                            <button type="button" class="btn btn-outline-primary" 
                                <i class="bi bi-check-lg me-2"></i>
                                Liquidar Sueldos
                            </button>
                            <button type="button" class="btn btn-outline-primary" 
                                <i class="bi bi-arrow-repeat me-2"></i>
                                Recalcular Liquidaciones
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calificación -->
            <div class="col-lg-6 col-xl-4">
                <div class="card action-category h-100">
                    <div class="card-header bg-success text-white">
                        <h5 class="card-title mb-0">
                            <i class="bi bi-star me-2"></i>
                            Calificación
                        </h5>
                    </div>
                    <div class="card-body d-flex align-items-center justify-content-center">
                        <button type="button" class="btn btn-success btn-lg w-100" 
                            <i class="bi bi-star-fill me-2"></i>
                            Calificación Mensual
                        </button>
                    </div>
                </div>
            </div>

            <!-- Administración -->
            <div class="col-lg-6 col-xl-4">
                <div class="card action-category h-100">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="card-title mb-0">
                            <i class="bi bi-gear me-2"></i>
                            Administración
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="d-grid gap-2">
                            <button type="button" class="btn btn-outline-warning" >
                                <i class="bi bi-people me-2"></i>
                                ABM Empleados
                            </button>
                            <button type="button" class="btn btn-outline-warning" >
                                <i class="bi bi-lightbulb me-2"></i>
                                ABM Titulos
                            </button>
                            <button type="button" class="btn btn-outline-warning" onclick="navigateTo('{% url 'listar_categorias' %}')">
                                <i class="bi bi-tags me-2"></i>
                                ABM Categorías
                            </button>
                            <button type="button" class="btn btn-outline-warning" >
                                <i class="bi bi-building me-2"></i>
                                ABM Centros de Costo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reportes Section -->
        <div class="row g-4 mb-5">
            <div class="col-12">
                <div class="card action-category">
                    <div class="card-header bg-info text-white">
                        <h5 class="card-title mb-0">
                            <i class="bi bi-file-earmark-text me-2"></i>
                            Reportes y Exportación
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <button type="button" class="btn btn-outline-info w-100" 
                                    <i class="bi bi-file-text me-2"></i>
                                    Reportes de Liquidación
                                </button>
                            </div>
                            <div class="col-md-4">
                                <button type="button" class="btn btn-outline-info w-100" 
                                    <i class="bi bi-receipt me-2"></i>
                                    Generar Recibos de Sueldo
                                </button>
                            </div>
                            <div class="col-md-4">
                                <button type="button" class="btn btn-outline-info w-100" 
                                    <i class="bi bi-download me-2"></i>
                                    Exportar Datos
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Access -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">
                            <i class="bi bi-lightning me-2"></i>
                            Acceso Rápido
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-2 col-sm-4 col-6">
                                <a href="#" class="btn btn-outline-secondary w-100"> 
                                    <i class="bi bi-calendar3 d-block mb-1"></i>
                                    <small>Calendario</small>
                                </a>
                            </div>
                            <div class="col-md-2 col-sm-4 col-6">
                                <a href="#" class="btn btn-outline-secondary w-100">
                                    <i class="bi bi-calculator d-block mb-1"></i>
                                    <small>Calculadora</small>
                                </a>
                            </div>
                            <div class="col-md-2 col-sm-4 col-6">
                                <a href="#" class="btn btn-outline-secondary w-100">
                                    <i class="bi bi-gear d-block mb-1"></i>
                                    <small>Configuración</small>
                                </a>
                            </div>
                            <div class="col-md-2 col-sm-4 col-6">
                                <a href="#" class="btn btn-outline-secondary w-100">
                                    <i class="bi bi-question-circle d-block mb-1"></i>
                                    <small>Ayuda</small>
                                </a>
                            </div>
                            <div class="col-md-2 col-sm-4 col-6">
                                <a href="#" class="btn btn-outline-secondary w-100">
                                    <i class="bi bi-shield-check d-block mb-1"></i>
                                    <small>Backup</small>
                                </a>
                            </div>
                            <div class="col-md-2 col-sm-4 col-6">
                                <a href="#" class="btn btn-outline-secondary w-100">
                                    <i class="bi bi-sliders d-block mb-1"></i>
                                    <small>Avanzado</small>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        // Función para navegar (compatible con Django)
        function navigateTo(url) {
            if (url.includes('NoReverseMatch') || url.includes('url')) {
                // Si la URL no está definida, mostrar mensaje
                alert('Esta funcionalidad será implementada próximamente.');
            } else {
                window.location.href = url;
            }
        }

        // Manejar cambio de período
        function updatePeriod() {
            const mes = document.getElementById('mesSelector').value;
            const anio = document.getElementById('anioSelector').value;
            const meses = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                          'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            
            console.log(`Período seleccionado: ${meses[mes-1]} ${anio}`);
            // Aquí puedes agregar lógica para actualizar datos según el período
        }

        // Actualizar fecha actual
        document.addEventListener('DOMContentLoaded', function() {
            const dateElement = document.getElementById('current-date');
            if (dateElement) {
                const now = new Date();
                const options = { 
                    day: 'numeric', 
                    month: 'short', 
                    year: 'numeric' 
                };
                dateElement.textContent = now.toLocaleDateString('es-AR', options);
            }

            // Event listeners para selectores de período
            document.getElementById('mesSelector').addEventListener('change', updatePeriod);
            document.getElementById('anioSelector').addEventListener('change', updatePeriod);
        });

        // Animaciones de entrada
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.stat-card, .action-category');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>